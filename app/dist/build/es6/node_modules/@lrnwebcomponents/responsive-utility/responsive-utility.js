import{LitElement,html,css}from"../../lit-element/lit-element.js";import{ResizeObserver}from"../../@juggle/resize-observer/lib/exports/resize-observer.js";window.ResponsiveUtility={},window.ResponsiveUtility.instance=null;class ResponsiveUtility extends LitElement{render(){return html`
      <slot></slot>
    `}static get tag(){return"responsive-utility"}static get properties(){return{...super.properties,details:{type:Array}}}connectedCallback(){super.connectedCallback(),window.addEventListener("responsive-element",this.responiveElementEvent.bind(this)),window.addEventListener("delete-responsive-element",this.deleteResponiveElementEvent.bind(this))}disconnectedCallback(){window.removeEventListener("responsive-element",this.responiveElementEvent.bind(this)),window.removeEventListener("delete-responsive-element",this.deleteResponiveElementEvent.bind(this)),super.disconnectedCallback()}responiveElementEvent(e){let detail={element:e.detail.element,attribute:e.detail.attribute||"responsive-size",sm:e.detail.sm||900,md:e.detail.md||1200,lg:e.detail.lg||1500,xl:e.detail.xl||1800,custom:e.detail.custom||"responsive-width"};detail.observer=this._getObserver(detail),detail.observer.observe(detail.element),this.details.push(detail),window.ResponsiveUtility.setSize(detail)}_getObserver(detail){return new ResizeObserver(en=>en.forEach(e=>window.ResponsiveUtility.setSize(detail,e.contentBoxSize||e.borderBoxSize||e.contentRect||e.target?e.target.offsetWidth:0)))}deleteResponiveElementEvent(e){this.details=this.details.filter(detail=>e.detail!==detail)}constructor(){super(),this.details=[],null==window.ResponsiveUtility.instance&&(window.ResponsiveUtility.instance=this)}}window.customElements.define(ResponsiveUtility.tag,ResponsiveUtility);export{ResponsiveUtility};window.ResponsiveUtility.requestAvailability=()=>{null==window.ResponsiveUtility.instance&&(window.ResponsiveUtility.instance=document.createElement("responsive-utility")),document.body.appendChild(window.ResponsiveUtility.instance)},window.ResponsiveUtility.setSize=(detail,width=0)=>{let size,el=detail.element,attr=detail.attribute,custom=detail.custom;size=width<detail.sm?"xs":width<detail.md?"sm":width<detail.lg?"md":width<detail.xl?"lg":"xl",el.getAttribute(custom)&&width===el.getAttribute(custom)||el.setAttribute(custom,width),el.getAttribute(attr)&&size===el.getAttribute(attr)||el.setAttribute(attr,size)};