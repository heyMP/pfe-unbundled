define(["exports","../../pfelement/dist/pfelement.js"],function(_exports,_pfelement){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.default=void 0;_pfelement=babelHelpers.interopRequireDefault(_pfelement);function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=babelHelpers.getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=babelHelpers.getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return babelHelpers.possibleConstructorReturn(this,result)}}function _isNativeReflectConstruct(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return!0}catch(e){return!1}}/*!
 * PatternFly Elements: PfeDatetime 1.0.0
 * @license
 * Copyright 2020 Red Hat, Inc.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
*/var PfeDatetime=/*#__PURE__*/function(_PFElement){babelHelpers.inherits(PfeDatetime,_PFElement);var _super=_createSuper(PfeDatetime);babelHelpers.createClass(PfeDatetime,[{key:"html",// Injected at build-time
get:function get(){return"\n<style>:host{display:inline} /*# sourceMappingURL=pfe-datetime.min.css.map */</style>\n<span></span>"}},{key:"styleUrl",get:function get(){return"pfe-datetime.scss"}},{key:"templateUrl",get:function get(){return"pfe-datetime.html"}},{key:"_dateTimeType",get:function get(){return this.format||this.type||PfeDatetime.properties.format.default}}],[{key:"version",// Injected at build-time
get:function get(){return"1.0.0"}},{key:"tag",get:function get(){return"pfe-datetime"}},{key:"properties",get:function get(){return{format:{title:"Format",type:String,values:["local","relative"],default:"local"},oldType:{alias:"format",attr:"type"},datetime:{title:"Date and time",type:String,observer:"_datetimeChanged",prefix:!1},timestamp:{title:"Timestamp",type:String,observer:"_timestampChanged",prefix:!1}}}}]);function PfeDatetime(){babelHelpers.classCallCheck(this,PfeDatetime);return _super.call(this,PfeDatetime)}babelHelpers.createClass(PfeDatetime,[{key:"_datetimeChanged",value:function _datetimeChanged(oldVal,newVal){if(!Date.parse(newVal)){return}if(Date.parse(newVal)&&this._datetime===Date.parse(newVal)){return}this.setDate(Date.parse(newVal))}},{key:"_timestampChanged",value:function _timestampChanged(oldVal,newVal){if(this._timestamp===newVal){this.log("early return");return}this._timestamp=newVal;this.setDate(new Date(1e3*newVal))}},{key:"setDate",value:function setDate(date){this._datetime=date;this.shadowRoot.querySelector("span").innerText=window.Intl?this._getTypeString():date.toLocaleString()}},{key:"_getOptions",value:function _getOptions(){var props={weekday:{short:"short",long:"long"},day:{numeric:"numeric","2-digit":"2-digit"},month:{short:"short",long:"long"},year:{numeric:"numeric","2-digit":"2-digit"},hour:{numeric:"numeric","2-digit":"2-digit"},minute:{numeric:"numeric","2-digit":"2-digit"},second:{numeric:"numeric","2-digit":"2-digit"},timeZoneName:{short:"short",long:"long"}},options={};for(var prop in props){// converting the prop name from camel case to
// hyphenated so it matches the attribute.
// for example: timeZoneName to time-zone-name
var attributeName=prop.replace(/[\w]([A-Z])/g,function(match){return match[0]+"-"+match[1]}).toLowerCase(),value=props[prop][this.getAttribute(attributeName)];if(value){options[prop]=value}}if(this.getAttribute("time-zone")){options.timeZone=this.getAttribute("time-zone")}return options}},{key:"_getTypeString",value:function _getTypeString(){var options=this._getOptions(),locale=this.getAttribute("locale")||navigator.language,dt="";switch(this._dateTimeType){case"local":dt=new Intl.DateTimeFormat(locale,options).format(this._datetime);break;case"relative":dt=this._getTimeRelative(this._datetime-Date.now());break;default:dt=this._datetime;}return dt}},{key:"_getTimeRelative",value:function _getTimeRelative(ms){var tense=0<ms?"until":"ago",str="just now",s=Math.round(Math.abs(ms)/1e3),min=Math.round(s/60),h=Math.round(min/60),d=Math.round(h/24),m=Math.round(d/30),y=Math.round(m/12);if(18<=m){str=y+" years"}else if(12<=m){str="a year"}else if(45<=d){str=m+" months"}else if(30<=d){str="a month"}else if(36<=h){str=d+" days"}else if(24<=h){str="a day"}else if(90<=min){str=h+" hours"}else if(45<=min){str="an hour"}else if(90<=s){str=min+" minutes"}else if(45<=s){str="a minute"}else if(10<=s){str=s+" seconds"}return"just now"!==str?"".concat(str," ").concat(tense):str}}]);return PfeDatetime}(_pfelement.default);_pfelement.default.create(PfeDatetime);var _default=PfeDatetime;_exports.default=_default});